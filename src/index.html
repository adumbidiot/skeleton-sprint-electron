<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<link rel="import" href="./bower_components/paper-button/paper-button.html">
		<link rel="import" href="./bower_components/paper-checkbox/paper-checkbox.html">
		<link rel="import" href="./bower_components/paper-dialog/paper-dialog.html">
		<link rel="import" href="./bower_components/paper-radio-button/paper-radio-button.html">
		<link rel="import" href="./bower_components/paper-radio-group/paper-radio-group.html">
		<link rel="import" href="./bower_components/paper-icon-button/paper-icon-button.html">
		<link rel="import" href="./bower_components/paper-input/paper-input.html">
		<link rel="import" href="./bower_components/paper-input/paper-textarea.html">
		<link rel="import" href="./bower_components/iron-icons/iron-icons.html">
		<link rel="import" href="./bower_components/paper-spinner/paper-spinner-lite.html">
		
		<script src="./js/lvl.js"></script>
		<script>				
			// Legacy browser code			
			let exportWindow = {};
            
			window.onload = function(){
				document.getElementById('placeholder').appendChild(level.board);
				exportWindow = getExportWindow();
			}
		</script>
		<style is="custom-style">
				paper-button.export{
					background-color: #FF0000;
					--paper-button-ink-color: #303030;
					color: #000000;
				}
		</style>
	</head>
	<body style="background-color: #383838; margin: 0px;">
        <div id="placeholder"></div>
        <paper-button raised onclick="exportWindow.main.open()" class = "export">
            Export
        </paper-button>
        
        <paper-dialog modal id="export">
            <div>
                <paper-icon-button icon="close" style="top:0px;position:absolute;left:0px;" onclick="exportWindow.main.close()"></paper-icon-button>
			</div>
			<div style="padding-top: 10px;">
				<h1>Export Options</h1>
				<paper-button raised onclick="exportWindow.steam.open()" id="export-steam-button">Steam Workshop</paper-button>
				<paper-button raised onclick="exportWindow.dev.open()" id="export-dev-button">Dev Export</paper-button>
				<paper-button raised onclick="exportWindow.lbl.open()" id="export-lbl-button">Line by Line Export</paper-button>
			</div>
		</paper-dialog>
        
		<paper-dialog modal id="export-lbl" style="width:100%; height:100%; top:0px;">
            <div>
                <paper-icon-button icon="close" style="top:0px;position:absolute;left:0px;" onclick="exportWindow.closeAll()"></paper-icon-button>
			</div>
			<div style="padding-top: 10px;">
				<h1>Line by Line Export</h1>
				<paper-input label="Level Title" id="export-lbl-title" value="myLevel"></paper-input>
				<paper-button raised style="width: 100px;" onclick="exportWindow.lbl.saveFile()">Save</paper-button>
			</div>
		</paper-dialog>
        
		<paper-dialog modal id="export-dev" style="width:100%; height:100%; top:0px;">
			<div>
				<paper-icon-button icon="close" style="top:0px;position:absolute;left:0px;" onclick="exportWindow.closeAll()"></paper-icon-button>
			</div>
			<div style="padding-top: 10px;">
				<h1>Developer Export</h1>
				<paper-input label="Level Title" id="export-dev-title" value="myLevel"></paper-input>
					<paper-input label="Level Number" id="export-dev-num" type="number"></paper-input>
					<paper-button raised style="width: 100px;" onclick="exportWindow.dev.saveFile()">Save</paper-button>
				</div>
			</paper-dialog>
			<paper-dialog modal id="export-steam" style="width:100%; height:100%; top:0px;">
				<div>
					<paper-icon-button icon="close" style="top:0px;position:absolute;left:0px;" onclick="exportWindow.closeAll()"></paper-icon-button>
				</div>
				<div style="padding-top: 10px;">
					<h1>Steam Workshop Upload</h1>
					<paper-input label="Level Title" id="export-steam-title"></paper-input>
					<paper-textarea label="Description" id="export-steam-description"></paper-textarea>
					<paper-button raised style="width: 100px;" onclick="exportWindow.steam.upload();">Upload</paper-button>
				</div>
			</paper-dialog>
			<paper-dialog modal id="export-steam-loading">
				<div style="text-align: center;">
					<p>UPLOADING</p>
				</div>
				<div style="text-align:center;" id="export-steam-loading-spinner-container">
					<paper-spinner-lite active id="export-steam-loading-spinner"></paper-spinner-lite>
				</div>
				<div style="text-align:center; display:none;" id="export-steam-loading-button-container">
					<paper-icon-button icon="check" style="color: green; width: 100px;height: 100px;" id="export-steam-loading-button"></paper-icon-button>
				</div>
				<div style="text-align:center">
					<p id="export-steam-loading-status">Uploading Files to Steam Cloud...</p>
				</div>
			</paper-dialog>
		</div>
	</body>
</html>

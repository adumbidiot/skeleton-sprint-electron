<link rel="import"  href="./level-view.html">

<dom-module id="import-level">
    <template>
        <style>
            #cancel{
                position: absolute; 
                bottom: 2px; 
                right:2px;
            }
            #import{
                position: absolute; 
                left: 40%; 
                width: 20%; 
                top: 80%;
            }
            .container{
                outline: 2px solid black;
                width: 90%;
                position: absolute;
                left: 5%;
                top: 5%;
            }
            p{
                text-align: center;
            }
        </style>
        <button on-click="cancelHandler" id="cancel">Cancel</button>
        <button on-click="importHandler" id="import">Import</button>

        <div class="container">
            <p>Import Format</p>
            <paper-radio-group selected="{{format}}" >
                <paper-radio-button name="AS3">
                    <span>2D AS3 Array</span>
                </paper-radio-button>
                <br>

                <paper-radio-button name="lbl">
                    <span>Line by Line Representation</span>
                </paper-radio-button>
                <br>                    
            </paper-radio-group>
        </div>
        <br>

    </template>
    
    <script>
        //TODO: Inherit template
        class ImportLevel extends LevelView {
            static get is(){
                return 'import-level';
            }
            
            static get properties(){
                return {
                    format: {
                        type: String,
                        observer: '_formatChanged'
                    }
                }
            }
  
            constructor(popMngr){
                super(popMngr);
                this.format = "AS3";
            }
            
            //TODO: Remove App specific code
            importHandler(){
                if(this.form == 'AS3'){
			        level.import(document.getElementById('interface').value);
			    }else if(this.form == 'lbl'){
				    level.importLBL(document.getElementById('interface').value);
			    }
                
                this.close();
            }
            
            _formatChanged(newFormat, oldFormat){
               this.form = newFormat;
             }
        }
        customElements.define(ImportLevel.is, ImportLevel);
    </script>
</dom-module>
